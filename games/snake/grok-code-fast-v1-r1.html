<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Snake Game - Cyberpunk Edition</title>
    <style>
        /* Cyberpunk Dark Theme */
        body {
            margin: 0;
            padding: 0;
            background: #1a1a1a;
            color: #00ff41;
            font-family: 'Courier New', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            overflow: hidden;
        }

        /* Game Container */
        #game-container {
            position: relative;
            text-align: center;
        }

        /* Game Canvas */
        #game-canvas {
            border: 2px solid #00ff41;
            box-shadow: 0 0 20px #00ff41, inset 0 0 20px rgba(0, 255, 65, 0.1);
            background: #0a0a0a;
            display: block;
            margin: 20px auto;
        }

        /* Score Display */
        #score-display {
            font-size: 24px;
            margin-bottom: 10px;
            text-shadow: 0 0 10px #00ff41;
        }

        /* Start Screen Overlay */
        #start-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 26, 26, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
        }

        #start-button {
            background: linear-gradient(45deg, #00ff41, #00aa33);
            border: none;
            color: #1a1a1a;
            padding: 15px 30px;
            font-size: 20px;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            border-radius: 5px;
            box-shadow: 0 0 15px #00ff41;
            transition: all 0.3s ease;
        }

        #start-button:hover {
            box-shadow: 0 0 25px #00ff41, 0 0 35px #00ff41;
            transform: scale(1.05);
        }

        /* Game Over Screen Overlay */
        #game-over-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(26, 26, 26, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 10;
            display: none;
        }

        #final-score {
            font-size: 36px;
            margin-bottom: 20px;
            text-shadow: 0 0 15px #ff0041;
        }

        #restart-button {
            background: linear-gradient(45deg, #ff0041, #aa0033);
            border: none;
            color: white;
            padding: 15px 30px;
            font-size: 20px;
            font-family: 'Courier New', monospace;
            cursor: pointer;
            border-radius: 5px;
            box-shadow: 0 0 15px #ff0041;
            transition: all 0.3s ease;
        }

        #restart-button:hover {
            box-shadow: 0 0 25px #ff0041, 0 0 35px #ff0041;
            transform: scale(1.05);
        }

        /* Title */
        h1 {
            font-size: 48px;
            margin-bottom: 10px;
            text-shadow: 0 0 20px #00ff41;
        }

        /* Instructions */
        .instructions {
            font-size: 16px;
            margin-top: 20px;
            color: #00aa33;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>üêç CYBER SNAKE üêç</h1>
        <div id="score-display">Score: 0</div>
        <canvas id="game-canvas" width="400" height="400"></canvas>
        
        <!-- Start Screen -->
        <div id="start-screen">
            <button id="start-button">START GAME</button>
            <div class="instructions">
                Use Arrow Keys to move<br>
                Eat the red food to grow and score points<br>
                Avoid walls and yourself!
            </div>
        </div>
        
        <!-- Game Over Screen -->
        <div id="game-over-screen">
            <div id="final-score">Game Over!</div>
            <button id="restart-button">RESTART</button>
        </div>
    </div>

    <script>
        // Game constants
        const CANVAS_SIZE = 400;
        const GRID_SIZE = 20;
        const INITIAL_SPEED = 150; // milliseconds
        const SPEED_INCREMENT = 5; // how much faster per food eaten

        // Colors
        const BACKGROUND_COLOR = '#0a0a0a';
        const SNAKE_COLOR = '#00ff41';
        const FOOD_COLOR = '#ff0041';
        const BORDER_COLOR = '#00ff41';

        // Game variables
        let canvas, ctx;
        let snake, direction, nextDirection;
        let food;
        let score;
        let gameSpeed;
        let gameRunning;
        let gameLoop;

        // DOM elements
        let startScreen, gameOverScreen, scoreDisplay, finalScoreDisplay;
        let startButton, restartButton;

        // Initialize game
        function initGame() {
            canvas = document.getElementById('game-canvas');
            ctx = canvas.getContext('2d');
            
            startScreen = document.getElementById('start-screen');
            gameOverScreen = document.getElementById('game-over-screen');
            scoreDisplay = document.getElementById('score-display');
            finalScoreDisplay = document.getElementById('final-score');
            startButton = document.getElementById('start-button');
            restartButton = document.getElementById('restart-button');

            // Event listeners
            startButton.addEventListener('click', startGame);
            restartButton.addEventListener('click', restartGame);
            document.addEventListener('keydown', handleKeyPress);

            // Initial game state
            resetGame();
        }

        // Reset game to initial state
        function resetGame() {
            snake = [
                { x: 10, y: 10 },
                { x: 9, y: 10 },
                { x: 8, y: 10 }
            ];
            direction = { x: 1, y: 0 }; // moving right initially
            nextDirection = { x: 1, y: 0 };
            score = 0;
            gameSpeed = INITIAL_SPEED;
            gameRunning = false;
            
            spawnFood();
            updateScoreDisplay();
        }

        // Start the game
        function startGame() {
            startScreen.style.display = 'none';
            gameOverScreen.style.display = 'none';
            gameRunning = true;
            gameLoop = requestAnimationFrame(gameTick);
        }

        // Restart the game
        function restartGame() {
            resetGame();
            startGame();
        }

        // Main game loop
        function gameTick() {
            if (!gameRunning) return;

            updateGame();
            drawGame();

            setTimeout(() => {
                requestAnimationFrame(gameTick);
            }, gameSpeed);
        }

        // Update game state
        function updateGame() {
            // Update direction (prevent immediate reversal)
            if (canChangeDirection(nextDirection)) {
                direction = nextDirection;
            }

            // Move snake head
            const head = { x: snake[0].x + direction.x, y: snake[0].y + direction.y };

            // Check wall collision
            if (head.x < 0 || head.x >= GRID_SIZE || head.y < 0 || head.y >= GRID_SIZE) {
                gameOver();
                return;
            }

            // Check self collision
            for (let segment of snake) {
                if (head.x === segment.x && head.y === segment.y) {
                    gameOver();
                    return;
                }
            }

            // Add new head
            snake.unshift(head);

            // Check food collision
            if (head.x === food.x && head.y === food.y) {
                score += 10;
                gameSpeed = Math.max(50, gameSpeed - SPEED_INCREMENT); // increase speed, min 50ms
                updateScoreDisplay();
                spawnFood();
            } else {
                // Remove tail if no food eaten
                snake.pop();
            }
        }

        // Draw the game
        function drawGame() {
            // Clear canvas
            ctx.fillStyle = BACKGROUND_COLOR;
            ctx.fillRect(0, 0, CANVAS_SIZE, CANVAS_SIZE);

            // Draw snake
            ctx.fillStyle = SNAKE_COLOR;
            for (let segment of snake) {
                ctx.fillRect(
                    segment.x * (CANVAS_SIZE / GRID_SIZE),
                    segment.y * (CANVAS_SIZE / GRID_SIZE),
                    CANVAS_SIZE / GRID_SIZE,
                    CANVAS_SIZE / GRID_SIZE
                );
            }

            // Draw food
            ctx.fillStyle = FOOD_COLOR;
            ctx.beginPath();
            ctx.arc(
                food.x * (CANVAS_SIZE / GRID_SIZE) + (CANVAS_SIZE / GRID_SIZE) / 2,
                food.y * (CANVAS_SIZE / GRID_SIZE) + (CANVAS_SIZE / GRID_SIZE) / 2,
                (CANVAS_SIZE / GRID_SIZE) / 2,
                0,
                2 * Math.PI
            );
            ctx.fill();
        }

        // Spawn food at random location
        function spawnFood() {
            do {
                food = {
                    x: Math.floor(Math.random() * GRID_SIZE),
                    y: Math.floor(Math.random() * GRID_SIZE)
                };
            } while (snake.some(segment => segment.x === food.x && segment.y === food.y));
        }

        // Handle keyboard input
        function handleKeyPress(event) {
            if (!gameRunning) return;

            const key = event.key;
            let newDirection = null;

            switch (key) {
                case 'ArrowUp':
                    newDirection = { x: 0, y: -1 };
                    break;
                case 'ArrowDown':
                    newDirection = { x: 0, y: 1 };
                    break;
                case 'ArrowLeft':
                    newDirection = { x: -1, y: 0 };
                    break;
                case 'ArrowRight':
                    newDirection = { x: 1, y: 0 };
                    break;
            }

            if (newDirection) {
                nextDirection = newDirection;
                event.preventDefault(); // prevent page scrolling
            }
        }

        // Check if direction change is allowed (prevent immediate reversal)
        function canChangeDirection(newDir) {
            return !(newDir.x === -direction.x && newDir.y === -direction.y);
        }

        // Game over
        function gameOver() {
            gameRunning = false;
            finalScoreDisplay.textContent = `Final Score: ${score}`;
            gameOverScreen.style.display = 'flex';
        }

        // Update score display
        function updateScoreDisplay() {
            scoreDisplay.textContent = `Score: ${score}`;
        }

        // Initialize when page loads
        window.addEventListener('load', initGame);
    </script>
</body>
</html>