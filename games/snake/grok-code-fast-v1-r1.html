<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cyberpunk Snake Game</title>
    <style>
        /* Cyberpunk Dark Theme */
        body {
            margin: 0;
            padding: 0;
            background: #1a1a1a;
            color: #00ff00;
            font-family: 'Courier New', monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }
        
        .game-container {
            position: relative;
            text-align: center;
        }
        
        .score {
            font-size: 24px;
            margin-bottom: 20px;
            text-shadow: 0 0 10px #00ff00;
        }
        
        canvas {
            border: 2px solid #00ff00;
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.5);
            background: #000000;
        }
        
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #00ff00;
            font-size: 24px;
        }
        
        button {
            background: #00ff00;
            color: #000000;
            border: none;
            padding: 15px 30px;
            font-family: 'Courier New', monospace;
            font-size: 18px;
            cursor: pointer;
            margin: 10px;
            text-transform: uppercase;
            box-shadow: 0 0 10px rgba(0, 255, 0, 0.5);
            transition: all 0.3s;
        }
        
        button:hover {
            box-shadow: 0 0 20px rgba(0, 255, 0, 0.8);
            transform: scale(1.05);
        }
        
        .final-score {
            font-size: 36px;
            margin-bottom: 20px;
            text-shadow: 0 0 15px #00ff00;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="score">Score: <span id="score">0</span></div>
        <canvas id="gameCanvas" width="400" height="400"></canvas>
        
        <!-- Start Screen -->
        <div id="startScreen" class="overlay">
            <h1>üêç CYBERPUNK SNAKE</h1>
            <p>Use arrow keys to move</p>
            <button id="startButton">START GAME</button>
        </div>
        
        <!-- Game Over Screen -->
        <div id="gameOverScreen" class="overlay" style="display: none;">
            <h1>GAME OVER</h1>
            <div class="final-score">Final Score: <span id="finalScore">0</span></div>
            <button id="restartButton">RESTART</button>
        </div>
    </div>

    <script>
        // Game constants
        const CANVAS_SIZE = 400;
        const GRID_SIZE = 20;
        const INITIAL_SPEED = 150; // milliseconds
        const SPEED_INCREMENT = 5; // decrease delay by this much per food eaten
        
        // Game state
        let canvas, ctx;
        let snake = [{x: 200, y: 200}];
        let direction = {x: 0, y: 0};
        let nextDirection = {x: 0, y: 0};
        let food = {};
        let score = 0;
        let gameSpeed = INITIAL_SPEED;
        let gameRunning = false;
        let gameOver = false;
        let lastTime = 0;
        
        // DOM elements
        let scoreElement, finalScoreElement, startScreen, gameOverScreen, startButton, restartButton;
        
        // Initialize game
        function init() {
            canvas = document.getElementById('gameCanvas');
            ctx = canvas.getContext('2d');
            
            scoreElement = document.getElementById('score');
            finalScoreElement = document.getElementById('finalScore');
            startScreen = document.getElementById('startScreen');
            gameOverScreen = document.getElementById('gameOverScreen');
            startButton = document.getElementById('startButton');
            restartButton = document.getElementById('restartButton');
            
            // Event listeners
            startButton.addEventListener('click', startGame);
            restartButton.addEventListener('click', restartGame);
            document.addEventListener('keydown', handleKeyPress);
            
            // Generate initial food
            generateFood();
        }
        
        // Start the game
        function startGame() {
            startScreen.style.display = 'none';
            gameRunning = true;
            gameOver = false;
            gameLoop(0);
        }
        
        // Restart the game
        function restartGame() {
            gameOverScreen.style.display = 'none';
            resetGame();
            startGame();
        }
        
        // Reset game state
        function resetGame() {
            snake = [{x: 200, y: 200}];
            direction = {x: 0, y: 0};
            nextDirection = {x: 0, y: 0};
            score = 0;
            gameSpeed = INITIAL_SPEED;
            scoreElement.textContent = '0';
            generateFood();
        }
        
        // Handle keyboard input
        function handleKeyPress(event) {
            if (!gameRunning || gameOver) return;
            
            const key = event.key;
            let newDirection = {x: 0, y: 0};
            
            switch(key) {
                case 'ArrowUp':
                    newDirection = {x: 0, y: -GRID_SIZE};
                    break;
                case 'ArrowDown':
                    newDirection = {x: 0, y: GRID_SIZE};
                    break;
                case 'ArrowLeft':
                    newDirection = {x: -GRID_SIZE, y: 0};
                    break;
                case 'ArrowRight':
                    newDirection = {x: GRID_SIZE, y: 0};
                    break;
                default:
                    return;
            }
            
            // Prevent immediate reversal
            if (newDirection.x !== -direction.x || newDirection.y !== -direction.y) {
                nextDirection = newDirection;
            }
        }
        
        // Generate random food position
        function generateFood() {
            let validPosition = false;
            while (!validPosition) {
                food = {
                    x: Math.floor(Math.random() * (CANVAS_SIZE / GRID_SIZE)) * GRID_SIZE,
                    y: Math.floor(Math.random() * (CANVAS_SIZE / GRID_SIZE)) * GRID_SIZE
                };
                
                // Check if food spawns on snake
                validPosition = true;
                for (let segment of snake) {
                    if (segment.x === food.x && segment.y === food.y) {
                        validPosition = false;
                        break;
                    }
                }
            }
        }
        
        // Move snake
        function moveSnake() {
            direction = nextDirection;
            
            const head = {
                x: snake[0].x + direction.x,
                y: snake[0].y + direction.y
            };
            
            // Check wall collision
            if (head.x < 0 || head.x >= CANVAS_SIZE || head.y < 0 || head.y >= CANVAS_SIZE) {
                gameOver = true;
                return;
            }
            
            // Check self collision
            for (let segment of snake) {
                if (head.x === segment.x && head.y === segment.y) {
                    gameOver = true;
                    return;
                }
            }
            
            snake.unshift(head);
            
            // Check food collision
            if (head.x === food.x && head.y === food.y) {
                score += 10;
                scoreElement.textContent = score;
                
                // Increase speed
                gameSpeed = Math.max(50, gameSpeed - SPEED_INCREMENT);
                
                generateFood();
            } else {
                snake.pop();
            }
        }
        
        // Render game
        function render() {
            // Clear canvas
            ctx.fillStyle = '#000000';
            ctx.fillRect(0, 0, CANVAS_SIZE, CANVAS_SIZE);
            
            // Draw snake
            ctx.fillStyle = '#00ff00';
            ctx.shadowColor = '#00ff00';
            ctx.shadowBlur = 5;
            for (let segment of snake) {
                ctx.fillRect(segment.x, segment.y, GRID_SIZE - 2, GRID_SIZE - 2);
            }
            ctx.shadowBlur = 0;
            
            // Draw food
            ctx.fillStyle = '#ff0000';
            ctx.shadowColor = '#ff0000';
            ctx.shadowBlur = 10;
            ctx.beginPath();
            ctx.arc(food.x + GRID_SIZE/2, food.y + GRID_SIZE/2, GRID_SIZE/2 - 2, 0, 2 * Math.PI);
            ctx.fill();
            ctx.shadowBlur = 0;
        }
        
        // Game loop
        function gameLoop(currentTime) {
            if (!gameRunning) return;
            
            if (currentTime - lastTime >= gameSpeed) {
                moveSnake();
                render();
                lastTime = currentTime;
                
                if (gameOver) {
                    gameRunning = false;
                    finalScoreElement.textContent = score;
                    gameOverScreen.style.display = 'flex';
                    return;
                }
            }
            
            requestAnimationFrame(gameLoop);
        }
        
        // Initialize when page loads
        window.addEventListener('load', init);
    </script>
</body>
</html>