<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Snake Game – Cyberpunk Edition</title>
    <style>
        /* ======  GLOBAL RESET  ====== */
        * { box-sizing: border-box; margin: 0; padding: 0; }

        /* ======  THEME  ====== */
        body {
            background: #1a1a1a;
            color: #0fff50;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
        }

        /* ======  GAME WRAPPER  ====== */
        #gameWrapper {
            position: relative;
            width: 440px;
            height: 440px;
            border: 2px solid #0fff50;
            border-radius: 6px;
            box-shadow: 0 0 12px #0fff50, inset 0 0 12px rgba(15, 255, 80, .25);
            background: #111;
        }

        /* ======  CANVAS  ====== */
        canvas {
            display: block;
            background: #111;
        }

        /* ======  SCOREBOARD  ====== */
        #score {
            text-align: center;
            font-size: 1.2rem;
            margin-bottom: 8px;
            letter-spacing: 1px;
            text-shadow: 0 0 4px #0fff50;
        }

        /* ======  OVERLAYS  ====== */
        .overlay {
            position: absolute;
            inset: 0;
            background: rgba(0, 0, 0, .75);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            gap: 20px;
            border-radius: 6px;
        }
        .overlay h2 { font-size: 2rem; text-shadow: 0 0 6px #0fff50; }
        .overlay button {
            padding: 10px 24px;
            font-size: 1rem;
            font-family: inherit;
            color: #1a1a1a;
            background: #0fff50;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            box-shadow: 0 0 8px #0fff50;
            transition: .2s;
        }
        .overlay button:hover { transform: scale(1.05); }
        .hidden { display: none; }
    </style>
</head>
<body>

<!-- Scoreboard -->
<div id="score">Score: 0</div>

<!-- Game Wrapper -->
<div id="gameWrapper">
    <canvas id="board" width="400" height="400"></canvas>

    <!-- Start Overlay -->
    <div id="startOverlay" class="overlay">
        <h2>Snake Game</h2>
        <button id="startBtn">Start Game</button>
    </div>

    <!-- Game Over Overlay -->
    <div id="gameOverOverlay" class="overlay hidden">
        <h2>Game Over</h2>
        <p id="finalScore"></p>
        <button id="restartBtn">Restart</button>
    </div>
</div>

<script>
/* =========================================================
   SNAKE GAME – CYBERPUNK EDITION
   Vanilla JS, single HTML file
   ========================================================= */

(() => {
    /* ======  CONFIG  ====== */
    const TILE_SIZE = 20;                 // px
    const BOARD_TILES = 20;               // 20x20 grid
    const INITIAL_SPEED = 120;            // ms per tick
    const MIN_SPEED = 50;                 // fastest possible
    const SPEED_INCREMENT = 4;            // ms faster per food

    /* ======  DOM HOOKS  ====== */
    const canvas = document.getElementById('board');
    const ctx = canvas.getContext('2d');
    const scoreEl = document.getElementById('score');
    const startOverlay = document.getElementById('startOverlay');
    const gameOverOverlay = document.getElementById('gameOverOverlay');
    const startBtn = document.getElementById('startBtn');
    const restartBtn = document.getElementById('restartBtn');
    const finalScoreEl = document.getElementById('finalScore');

    /* ======  GAME STATE  ====== */
    let snake, food, dx, dy, score, speed, lastTick, running, gameOver;

    /* ======  INIT  ====== */
    function init() {
        snake = [{x: 10, y: 10}];          // center head
        dx = 1; dy = 0;                    // start moving right
        score = 0;
        speed = INITIAL_SPEED;
        lastTick = 0;
        running = false;
        gameOver = false;
        placeFood();
        updateScore(0);
        draw();                            // draw static board
    }

    /* ======  FOOD PLACEMENT  ====== */
    function placeFood() {
        do {
            food = {
                x: Math.floor(Math.random() * BOARD_TILES),
                y: Math.floor(Math.random() * BOARD_TILES)
            };
        } while (snake.some(seg => seg.x === food.x && seg.y === food.y));
    }

    /* ======  UPDATE SCORE  ====== */
    function updateScore(value) {
        score = value;
        scoreEl.textContent = `Score: ${score}`;
    }

    /* ======  DRAW FUNCTIONS  ====== */
    function draw() {
        /* --- clear --- */
        ctx.fillStyle = '#111';
        ctx.fillRect(0, 0, canvas.width, canvas.height);

        /* --- snake --- */
        ctx.fillStyle = '#0fff50';
        ctx.shadowColor = '#0fff50';
        ctx.shadowBlur = 8;
        snake.forEach((seg, idx) => {
            ctx.fillRect(seg.x * TILE_SIZE, seg.y * TILE_SIZE, TILE_SIZE - 1, TILE_SIZE - 1);
        });
        ctx.shadowBlur = 0;

        /* --- food (circular) --- */
        ctx.fillStyle = '#ff003c';
        ctx.shadowColor = '#ff003c';
        ctx.shadowBlur = 10;
        ctx.beginPath();
        ctx.arc(
            food.x * TILE_SIZE + TILE_SIZE / 2,
            food.y * TILE_SIZE + TILE_SIZE / 2,
            TILE_SIZE / 2 - 1,
            0,
            Math.PI * 2
        );
        ctx.fill();
        ctx.shadowBlur = 0;
    }

    /* ======  MOVE SNAKE  ====== */
    function move() {
        const head = {x: snake[0].x + dx, y: snake[0].y + dy};

        /* wall collision */
        if (head.x < 0 || head.x >= BOARD_TILES || head.y < 0 || head.y >= BOARD_TILES) {
            endGame(); return;
        }
        /* self collision */
        if (snake.some(seg => seg.x === head.x && seg.y === head.y)) {
            endGame(); return;
        }

        snake.unshift(head);

        /* food eaten */
        if (head.x === food.x && head.y === food.y) {
            updateScore(score + 10);
            speed = Math.max(MIN_SPEED, speed - SPEED_INCREMENT);
            placeFood();
        } else {
            snake.pop();
        }
    }

    /* ======  GAME LOOP  ====== */
    function loop(timestamp) {
        if (gameOver) return;

        if (!lastTick) lastTick = timestamp;
        const elapsed = timestamp - lastTick;

        if (elapsed >= speed) {
            lastTick = timestamp;
            move();
            draw();
        }

        requestAnimationFrame(loop);
    }

    /* ======  END GAME  ====== */
    function endGame() {
        gameOver = true;
        running = false;
        finalScoreEl.textContent = `Final Score: ${score}`;
        gameOverOverlay.classList.remove('hidden');
    }

    /* ======  START / RESTART  ====== */
    function start() {
        init();
        startOverlay.classList.add('hidden');
        gameOverOverlay.classList.add('hidden');
        running = true;
        requestAnimationFrame(loop);
    }

    /* ======  KEYBOARD  ====== */
    document.addEventListener('keydown', e => {
        if (!running || gameOver) return;

        const key = e.key;

        /* prevent reversal */
        if (key === 'ArrowUp' && dy !== 1) { dx = 0; dy = -1; }
        else if (key === 'ArrowDown' && dy !== -1) { dx = 0; dy = 1; }
        else if (key === 'ArrowLeft' && dx !== 1) { dx = -1; dy = 0; }
        else if (key === 'ArrowRight' && dx !== -1) { dx = 1; dy = 0; }
    });

    /* ======  BUTTON BINDINGS  ====== */
    startBtn.addEventListener('click', start);
    restartBtn.addEventListener('click', start);

    /* ======  INITIAL DRAW  ====== */
    init();
})();
</script>
</body>
</html>